<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <!-- jQuery UI -->
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
    <title>Document</title>
    <link rel="stylesheet" href="./jQuery_ex3.css">
</head>
<body>
    <div>
        날짜 : <input type="text" id="date">
        내용 : <input type="text" id="content">
    </div>
    
    <button type = 'button' onclick="writeS();">작성</button>

    <table class="calender" width="500" height="500" align="center">
        <caption>
            <h3>24년 1월</h3>
        </caption>
        <tr class="week">
            <th class="Sun">일</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th class="Sat">토</th>
        </tr>
        <tr>
            <td></td>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td class="Sat">6</td>
        </tr>

        <tr>
            <td class="Sun">7</td>
            <td>8</td>
            <td>9</td>
            <td>10</td>
            <td>11</td>
            <td>12</td>
            <td class="Sat">13</td>
        </tr>

        <tr>
            <td class="Sun">14</td>
            <td>15</td>
            <td>16</td>
            <td>17</td>
            <td>18</td>
            <td>19</td>
            <td class="Sat">20</td>
        </tr>

        <tr>
            <td class="Sun">21</td>
            <td>22</td>
            <td>23</td>
            <td>24</td>
            <td>25</td>
            <td>26</td>
            <td class="Sat">27</td>
        </tr>

        <tr>
            <td class="Sun">28</td>
            <td>29</td>
            <td>30</td>
            <td>31</td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <script>
        // this를 기억하기 위한 전역변수
        let target;
        
        // 날짜 클릭했을 때
        $('td').on('click', function(){
            console.log(this);
            // 날짜만 가져오려면, this의 text() 이용
            console.log($(this).text());

            // 날짜, 내용 input 선택
            // let date = $(this).text();
            $('#date').val($(this).text());

            // target에 this를 기억해두기
            target = this;

        })

        function writeS() {
            let content = $('#content').val();

            // 요소 추가
            $(target).append('<span>' +  content + '</span><br />');

            // 초기화
            $('#content').val('');
            $('#date').val('');
        }

    </script>
</body>
</html>